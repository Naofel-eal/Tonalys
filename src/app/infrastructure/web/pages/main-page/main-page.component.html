<ion-header translucent="true" class="main-header">
  <ion-toolbar>
    <ion-title>
      <div class="title">
        <span class="brand-title">Tonalys</span>
        <span class="brand-version">{{ version }}</span>
      </div>
    </ion-title>

  </ion-toolbar>
</ion-header>

<ion-content class="main-content" [fullscreen]="true">
  <div class="main-list-container">
    <h1 class="main-title">Explore the scales</h1>
    <ion-list>
      @for (scale of (scales$ | async); track $index) {
        <ion-item
          class="scale-card"
          [routerLink]="['/scale', scale.tonic.name, scale.mode.name]"
          routerDirection="forward"
          detail="true"
        >
          <div class="scale-card-header">
            <span class="scale-tonic">{{ scale.tonic.name }}</span>
            <span class="scale-mode">{{ scale.mode.name }}</span>
          </div>
          <div class="scale-card-notes">
            @for (note of scale.notes; track note.name) {
              <span class="scale-note-chip" [class.tonic-chip]="note.name === scale.tonic.name">{{ note.name }}</span>
            }
          </div>
          <div class="scale-card-piano">
            <app-piano-octave 
              [notesToHighlight]="scale.notes"
              [rootNote]="scale.tonic"
              class="octave-inline"
            ></app-piano-octave>
          </div>
          <ion-icon name="chevron-forward-outline" slot="end"></ion-icon>
        </ion-item>
      }
    </ion-list>
  </div>
</ion-content>
